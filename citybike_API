import requests

def get_bike_stations(city_name):
    url = f"https://api.citybik.es/v2/networks/{city_name}"
    response = requests.get(url)
    if response.status_code == 200:
        data = response.json()
        return data
    else:
        print(f"Error: {response.status_code}")
        return None

city_name = "sobi-hamilton"  
stations_data = get_bike_stations(city_name)


if stations_data:
    stations = stations_data['network']['stations']
    for station in stations:
        station_name = station['name']
        latitude = station['latitude']
        longitude = station['longitude']
        free_bikes = station['free_bikes']
        # print(f"Station Name: {station_name}, Latitude: {latitude}, Longitude: {longitude}, free_bikes: {free_bikes}")
        # print(station, latitude, longitude, free_bikes)

# import json

# file_path = "Documents/GitHub/Statistical-Modelling-Project/data/sobi-hamilton.json"
# with open(file_path, 'w') as file:
#     json.dump(stations_data, file)

